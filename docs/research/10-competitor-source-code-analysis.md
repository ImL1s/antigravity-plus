# ç«¶å“åŸå§‹ç¢¼åˆ†æ

> ğŸ“… æ“·å–æ—¥æœŸï¼š2026-01-04

---

## ç«¶å“å°ˆæ¡ˆæ¸…å–®

| å°ˆæ¡ˆåç¨± | GitHub | åŠŸèƒ½ |
|----------|--------|------|
| **Yoke AntiGravity** | github.com/ai-dev-2024/yoke-antigravity | è‡ªå‹•æ ¸å‡† + å¤šåŠŸèƒ½ |
| **AntigravityQuotaWatcher** | github.com/wusimpl/AntigravityQuotaWatcher | é…é¡ç›£æ§ |
| **AntigravityQuota** | github.com/Henrik-3/AntigravityQuota | é…é¡ç›£æ§ |

---

## 1. Yoke AntiGravityï¼ˆæœ€å®Œæ•´çš„ç«¶å“ï¼‰

### å°ˆæ¡ˆæ¶æ§‹
```
src/
â”œâ”€â”€ core/                           # æ¥­å‹™é‚è¼¯
â”‚   â”œâ”€â”€ autonomous-loop.ts          # ä¸»è¦è‡ªå‹•è¿´åœˆ
â”‚   â”œâ”€â”€ circuit-breaker.ts          # å®‰å…¨æ©Ÿåˆ¶
â”‚   â”œâ”€â”€ model-selector.ts           # æ™ºæ…§æ¨¡å‹è·¯ç”±
â”‚   â”œâ”€â”€ task-analyzer.ts            # ä¸Šä¸‹æ–‡æ„ŸçŸ¥
â”‚   â”œâ”€â”€ memory-manager.ts           # Session è¨˜æ†¶
â”‚   â”œâ”€â”€ code-reviewer.ts            # å®‰å…¨æƒæå™¨
â”‚   â”œâ”€â”€ agent-orchestrator.ts       # å¤š Agent ç³»çµ±
â”‚   â”œâ”€â”€ test-generator.ts           # è‡ªå‹•æ¸¬è©¦ç”Ÿæˆ
â”‚   â””â”€â”€ notification-manager.ts     # æ™ºæ…§è­¦å ±
â”‚
â”œâ”€â”€ providers/                      # å¤–éƒ¨æ•´åˆ
â”‚   â”œâ”€â”€ cdp-client.ts               # Chrome DevTools Protocol
â”‚   â”œâ”€â”€ antigravity-usage.ts        # ç”¨é‡æŠ“å–
â”‚   â”œâ”€â”€ mcp-server.ts               # MCP æ•´åˆ
â”‚   â”œâ”€â”€ project-manager.ts          # Jira/GitHub
â”‚   â””â”€â”€ model-provider.ts           # è‡ªè¨‚æ¨¡å‹æ”¯æ´
â”‚
â”œâ”€â”€ ui/                             # ä½¿ç”¨è€…ä»‹é¢
â”‚   â”œâ”€â”€ dashboard.ts                # Webview é¢æ¿
â”‚   â”œâ”€â”€ status-bar.ts               # ç‹€æ…‹åˆ—æ§åˆ¶
â”‚   â””â”€â”€ voice-controller.ts         # èªéŸ³æ§åˆ¶
â”‚
â””â”€â”€ main_scripts/                   # æ³¨å…¥è…³æœ¬
    â”œâ”€â”€ cdp-handler.js              # æ ¸å¿ƒè‡ªå‹•æ¥å—é‚è¼¯
    â””â”€â”€ full_cdp_script.js          # ç€è¦½å™¨æ³¨å…¥
```

### æ ¸å¿ƒåŠŸèƒ½

#### ğŸš€ Auto-All Modeï¼ˆè‡ªå‹•å…¨æ¥å—æ¨¡å¼ï¼‰
- é€é **CDPï¼ˆChrome DevTools Protocolï¼‰** æ·±åº¦æ•´åˆ
- è‡ªå‹•æ¥å—æª”æ¡ˆç·¨è¼¯ã€çµ‚ç«¯æŒ‡ä»¤å’Œæç¤º
- å…§å»ºç¦æ­¢æŒ‡ä»¤éæ¿¾ï¼ˆå®‰å…¨æ€§ï¼‰
- ä½¿ç”¨ Web Workers èƒŒæ™¯é‹ä½œ

#### ğŸ“‘ Multi-Tab Modeï¼ˆå¤šåˆ†é æ¨¡å¼ï¼‰
- åŒæ™‚åœ¨æ‰€æœ‰å°è©±åˆ†é å·¥ä½œ
- è‡ªå‹•åˆ†é è¼ªæ›¿
- æ¯å€‹å°è©±çš„é€²åº¦è¿½è¹¤
- èƒŒæ™¯æ¨¡å¼çš„è¦–è¦ºè¦†è“‹å±¤

#### âš¡ AI Autonomous Modeï¼ˆAI è‡ªä¸»æ¨¡å¼ï¼‰
- æŒçºŒ AI é–‹ç™¼è¿´åœˆ
- æ™ºæ…§æ¨¡å‹é¸æ“‡ï¼š
  - Claude Opus 4.5ï¼šæ¨ç†
  - Gemini 3 Proï¼šå‰ç«¯
  - Gemini 3 Flashï¼šé€Ÿåº¦
- Circuit Breaker å’Œæ¢å¾©ç­–ç•¥

#### è¨­å®šé …ç›®
```javascript
yoke.autoAllEnabled: false           // è‡ªå‹•æ¥å—é–‹é—œ
yoke.multiTabEnabled: false          // å¤šåˆ†é é–‹é—œ
yoke.yokeModeEnabled: false          // Yoke æ¨¡å¼é–‹é—œ
yoke.preferredModelForReasoning: 'claude-opus-4.5'
yoke.preferredModelForFrontend: 'gemini-3-pro'
```

### é—œéµæŠ€è¡“ï¼šCDPï¼ˆChrome DevTools Protocolï¼‰
é€™æ˜¯è‡ªå‹•æ ¸å‡†çš„æ ¸å¿ƒæŠ€è¡“ï¼é€é CDP å¯ä»¥ï¼š
- æ””æˆªç€è¦½å™¨äº‹ä»¶
- è‡ªå‹•é»æ“ŠæŒ‰éˆ•
- æ³¨å…¥è…³æœ¬åˆ°é é¢

---

## 2. AntigravityQuotaWatcherï¼ˆé…é¡ç›£æ§ï¼‰

### åŠŸèƒ½ç‰¹é»
- **å¯¦æ™‚ç›£æ§**ï¼šè‡ªå‹•æª¢æ¸¬ä¸¦å®šæ™‚è¼ªè©¢é…é¡ä½¿ç”¨æƒ…æ³
- **ç‹€æ…‹åˆ—é¡¯ç¤º**ï¼šåœ¨ VS Code åº•éƒ¨ç‹€æ…‹åˆ—é¡¯ç¤ºç•¶å‰é…é¡
- **æ™ºèƒ½é è­¦**ï¼šé…é¡ä¸è¶³æ™‚è‡ªå‹•è®Šè‰²æé†’
- **è‡ªå‹•æª¢æ¸¬**ï¼šç„¡éœ€æ‰‹å‹•é…ç½®ï¼Œè‡ªå‹•æª¢æ¸¬ Antigravity æœå‹™ç«¯å£å’Œèªè­‰ä¿¡æ¯

### é…ç½®é¸é …

| è¨­å®š | é è¨­å€¼ | èªªæ˜ |
|------|--------|------|
| `enabled` | true | æ˜¯å¦å•Ÿç”¨é…é¡ç›£æ§ |
| `pollingInterval` | 60 ç§’ | é…é¡æ•¸æ“šåˆ·æ–°é »ç‡ |
| `warningThreshold` | 50% | é»ƒè‰²è­¦å‘Šé–¾å€¼ |
| `criticalThreshold` | 30% | ç´…è‰²è‡¨ç•Œé–¾å€¼ |
| `displayStyle` | progressBar | é¡¯ç¤ºæ¨£å¼ |

### é¡¯ç¤ºæ¨£å¼é¸é …
- `progressBar`ï¼šé€²åº¦æ¢ï¼ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ï¼‰
- `percentage`ï¼šç™¾åˆ†æ¯”ï¼ˆ80%ï¼‰
- `dots`ï¼šåœ“é»ï¼ˆâ—â—â—â—‹â—‹ï¼‰

### API æ–¹æ³•
- `GET_USER_STATUS`ï¼šç²å–å®Œæ•´é…é¡ä¿¡æ¯ï¼ˆé è¨­ï¼‰
- `COMMAND_MODEL_CONFIG`ï¼šå…¼å®¹æ¨¡å¼ï¼Œä¿¡æ¯é‡è¼ƒå°‘

### æŠ€è¡“é—œéµé»
1. **é€²ç¨‹æª¢æ¸¬**ï¼šæƒæ Antigravity çš„ language server é€²ç¨‹
2. **ç«¯å£ç™¼ç¾**ï¼šæ¸¬è©¦ç›£è½ç«¯å£æ‰¾åˆ°æ­£ç¢ºçš„ API ç«¯é»
3. **é…é¡æŠ“å–**ï¼šå‘¼å« `GetUserStatus` API ç²å–æ¨¡å‹é…é¡
4. **UI æ›´æ–°**ï¼šè§£æå›æ‡‰ä¸¦æ›´æ–°ç‹€æ…‹åˆ—

---

## 3. AntigravityQuotaï¼ˆHenrik-3ï¼‰

### åŠŸèƒ½ç‰¹é»
- **è‡ªå‹•æª¢æ¸¬**ï¼šç„¡éœ€æ‰‹å‹•è¨­å®šï¼Œè‡ªå‹•æ‰¾åˆ° Antigravity çš„ language server
- **èƒŒæ™¯è¼ªè©¢**ï¼šå®šæœŸæŠ“å–é…é¡æ•¸æ“šä¿æŒç‹€æ…‹åˆ—æ›´æ–°
- **å¤šæ¨¡å‹æ”¯æ´**ï¼šè¿½è¹¤æ‰€æœ‰ AI æ¨¡å‹ï¼ˆGeminiã€Claudeã€GPT ç­‰ï¼‰
- **Pin åŠŸèƒ½**ï¼šå¯å°‡å¸¸ç”¨æ¨¡å‹é‡˜é¸åˆ°ç‹€æ…‹åˆ—

### ç‹€æ…‹æŒ‡ç¤ºç¬¦
```
$(check)   â†’ é…é¡å¥åº· (>20%)
$(warning) â†’ é…é¡ä½ (<20%)
$(error)   â†’ é…é¡è€—ç›¡
```

### äº’å‹•å¼é¸å–®
- æŸ¥çœ‹æ‰€æœ‰æ¨¡å‹çš„é€²åº¦æ¢å’Œç™¾åˆ†æ¯”
- é¡¯ç¤ºæ¯å€‹æ¨¡å‹çš„é…é¡é‡ç½®æ™‚é–“
- æŸ¥çœ‹ prompt creditsï¼ˆå¯ç”¨/æ¯æœˆï¼‰
- ç›´æ¥å¾é¸å–®åˆ‡æ›æ¨¡å‹é¡¯ç¤º

### å·¥ä½œåŸç†
1. **é€²ç¨‹æª¢æ¸¬** â†’ æƒæ Antigravity çš„ language server é€²ç¨‹ä¸¦æå–é€£æ¥åƒæ•¸
2. **ç«¯å£ç™¼ç¾** â†’ æ¸¬è©¦ç›£è½ç«¯å£æ‰¾åˆ°æ­£ç¢ºçš„ API ç«¯é»
3. **é…é¡æŠ“å–** â†’ å‘¼å« `GetUserStatus` API ç²å–æ¨¡å‹é…é¡å’Œ prompt credits
4. **UI æ›´æ–°** â†’ è§£æå›æ‡‰ä¸¦æ ¼å¼åŒ–é¡¯ç¤ºåˆ°ç‹€æ…‹åˆ—

---

## æˆ‘å€‘çš„å¯¦ä½œç­–ç•¥

### å€Ÿé‘’ Yoke AntiGravity çš„ï¼š
1. âœ… **CDP æ•´åˆ**ï¼šä½¿ç”¨ Chrome DevTools Protocol å¯¦ç¾è‡ªå‹•æ ¸å‡†
2. âœ… **Circuit Breaker**ï¼šå®‰å…¨æ©Ÿåˆ¶é˜²æ­¢ç„¡é™è¿´åœˆ
3. âœ… **ç¦æ­¢æŒ‡ä»¤éæ¿¾**ï¼šå®‰å…¨é»‘åå–®
4. âœ… **è¨­å®š Dashboard**ï¼šè¦–è¦ºåŒ–è¨­å®šé¢æ¿

### å€Ÿé‘’ AntigravityQuotaWatcher çš„ï¼š
1. âœ… **GetUserStatus API**ï¼šé…é¡æŠ“å–æ–¹æ³•
2. âœ… **é€²ç¨‹è‡ªå‹•æª¢æ¸¬**ï¼šæ‰¾åˆ° language server
3. âœ… **å¤šç¨®é¡¯ç¤ºæ¨£å¼**ï¼šé€²åº¦æ¢/ç™¾åˆ†æ¯”/åœ“é»
4. âœ… **è­¦å‘Šé–¾å€¼ç³»çµ±**ï¼šé¡è‰²æé†’

### æˆ‘å€‘çš„å·®ç•°åŒ–ï¼š
1. ğŸŒŸ **æ•´åˆè‡ªå‹•æ ¸å‡† + é…é¡ç›£æ§**ï¼ˆå…©è€…åˆä¸€ï¼‰
2. ğŸŒŸ **æ›´å¥½çš„ä¸­æ–‡æ”¯æ´**
3. ğŸŒŸ **æˆæœ¬ä¼°ç®—åŠŸèƒ½**ï¼ˆç«¶å“æ²’æœ‰ï¼‰
4. ğŸŒŸ **æ“ä½œæ—¥èªŒè¨˜éŒ„**

---

## åƒè€ƒåŸå§‹ç¢¼

### è‡ªå‹•æ ¸å‡†é‚è¼¯ï¼ˆCDPï¼‰
åƒè€ƒ `yoke-antigravity/src/main_scripts/cdp-handler.js`

### é…é¡æŠ“å– API
åƒè€ƒ `AntigravityQuotaWatcher` çš„ `GET_USER_STATUS` å¯¦ä½œ

### Webview Dashboard
åƒè€ƒ `yoke-antigravity/src/ui/dashboard.ts`
