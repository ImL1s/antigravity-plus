# MCPï¼ˆModel Context Protocolï¼‰é–‹ç™¼æŒ‡å—

> ğŸ“… è³‡æ–™ä¾†æºï¼šhttps://antigravity.google/docs/mcp  
> ğŸ“… æ“·å–æ—¥æœŸï¼š2026-01-04

---

## ä»€éº¼æ˜¯ MCPï¼Ÿ

**Model Context Protocol (MCP)** æ˜¯ä¸€å€‹æ¥­ç•Œæ¨™æº–å”è­°ï¼Œç”¨æ–¼é€£æ¥ AI æ¨¡å‹èˆ‡å¤–éƒ¨å·¥å…·å’Œè³‡æºã€‚åœ¨ Antigravity ä¸­ï¼ŒMCP æ˜¯æ“´å±• Agent èƒ½åŠ›çš„æ ¸å¿ƒæ©Ÿåˆ¶ã€‚

---

## MCP æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Antigravity IDE                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              AI Agent (Gemini)               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                       â”‚                          â”‚
â”‚                       â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚            MCP Client (å…§å»º)                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚               â”‚
        â–¼               â–¼               â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ MCP     â”‚    â”‚ MCP     â”‚    â”‚ MCP     â”‚
   â”‚ Server  â”‚    â”‚ Server  â”‚    â”‚ Server  â”‚
   â”‚ (GitHub)â”‚    â”‚ (Linear)â”‚    â”‚ (Custom)â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## MCP æä¾›çš„èƒ½åŠ›

### 1. Toolsï¼ˆå·¥å…·ï¼‰
Agent å¯ä»¥å‘¼å«çš„å‡½æ•¸æˆ–æ“ä½œï¼š
- æœç´¢ GitHub Issues
- å‰µå»º Linear ä»»å‹™
- æŸ¥è©¢è³‡æ–™åº«
- å‘¼å«å¤–éƒ¨ API

### 2. Resourcesï¼ˆè³‡æºï¼‰
Agent å¯ä»¥è®€å–çš„è³‡æ–™ä¾†æºï¼š
- æª”æ¡ˆå…§å®¹
- è³‡æ–™åº«è¨˜éŒ„
- API å›æ‡‰è³‡æ–™
- é…ç½®è¨­å®š

---

## é å»ºçš„ MCP é€£æ¥

Antigravity å…§å»ºæ”¯æ´å¤šç¨® MCP æœå‹™ï¼š

| æœå‹™ | ç”¨é€” |
|------|------|
| **GitHub** | ç¨‹å¼ç¢¼å€‰åº«ã€Issuesã€PRs |
| **Linear** | å°ˆæ¡ˆç®¡ç†ã€ä»»å‹™è¿½è¹¤ |
| **Notion** | æ–‡ä»¶å”ä½œã€çŸ¥è­˜åº« |
| **Supabase** | è³‡æ–™åº«æ“ä½œ |
| **æ›´å¤š...** | é€é MCP Store å®‰è£ |

---

## MCP Store

### ä½ç½®
IDE å´é‚Šé¢æ¿ â†’ ã€Œ...ã€é¸å–® â†’ MCP Store

### åŠŸèƒ½
- ç€è¦½å¯ç”¨çš„ MCP æœå‹™
- ä¸€éµå®‰è£/å¸è¼‰
- ç®¡ç†å·²é€£æ¥çš„æœå‹™

---

## å»ºç«‹è‡ªè¨‚ MCP Server

### åŸºæœ¬çµæ§‹

MCP Server éœ€è¦å¯¦ä½œä»¥ä¸‹ä»‹é¢ï¼š

```typescript
interface MCPServer {
  // ä¼ºæœå™¨è³‡è¨Š
  info: {
    name: string;
    version: string;
    description: string;
  };
  
  // æä¾›çš„å·¥å…·
  tools: MCPTool[];
  
  // æä¾›çš„è³‡æº
  resources: MCPResource[];
}

interface MCPTool {
  name: string;
  description: string;
  inputSchema: JSONSchema;
  handler: (input: any) => Promise<any>;
}

interface MCPResource {
  uri: string;
  name: string;
  description: string;
  mimeType: string;
}
```

### ç¯„ä¾‹ï¼šToken ç”¨é‡ç›£æ§ MCP Server

```typescript
// mcp-usage-monitor/index.ts
import { MCPServer } from '@anthropic/mcp-sdk';

const server: MCPServer = {
  info: {
    name: 'usage-monitor',
    version: '1.0.0',
    description: 'Monitor AI token usage and costs'
  },
  
  tools: [
    {
      name: 'get_usage_stats',
      description: 'Get current session token usage statistics',
      inputSchema: {
        type: 'object',
        properties: {
          period: { type: 'string', enum: ['session', 'day', 'week'] }
        }
      },
      handler: async (input) => {
        // å¯¦ä½œç”¨é‡çµ±è¨ˆé‚è¼¯
        return {
          inputTokens: 12345,
          outputTokens: 6789,
          estimatedCost: 0.15
        };
      }
    }
  ],
  
  resources: [
    {
      uri: 'usage://daily-report',
      name: 'Daily Usage Report',
      description: 'Token usage report for today',
      mimeType: 'application/json'
    }
  ]
};
```

---

## é€£æ¥è‡ªè¨‚ MCP Server

### é…ç½®æª”æ¡ˆä½ç½®
```
~/.antigravity/mcp.json
```

### é…ç½®æ ¼å¼
```json
{
  "servers": {
    "usage-monitor": {
      "command": "node",
      "args": ["/path/to/mcp-usage-monitor/index.js"],
      "env": {
        "API_KEY": "your-api-key"
      }
    }
  }
}
```

---

## MCP èˆ‡æˆ‘å€‘æ’ä»¶çš„æ•´åˆç­–ç•¥

### æ–¹æ¡ˆ Aï¼šå»ºç«‹ MCP Serverï¼ˆæ¨è–¦ï¼‰

**å„ªé»**ï¼š
- ç¬¦åˆ Antigravity å®˜æ–¹æ“´å±•æ©Ÿåˆ¶
- Agent å¯ç›´æ¥ä½¿ç”¨æˆ‘å€‘çš„å·¥å…·
- è‰¯å¥½çš„æ•´åˆé«”é©—

**å¯¦ä½œ**ï¼š
1. å»ºç«‹ `antigravity-plus-mcp-server`
2. æä¾›ç”¨é‡æŸ¥è©¢å·¥å…·
3. æä¾›è¦å‰‡ç®¡ç†å·¥å…·

### æ–¹æ¡ˆ Bï¼šå»ºç«‹ VS Code Extension

**å„ªé»**ï¼š
- å¯ç›´æ¥æ§åˆ¶ UIï¼ˆç‹€æ…‹åˆ—ã€Dashboardï¼‰
- å­˜å– VS Code API
- å¯æ””æˆªäº‹ä»¶

**ç¼ºé»**ï¼š
- èˆ‡ Agent çš„æ•´åˆè¼ƒé–“æ¥

### æ–¹æ¡ˆ Cï¼šæ··åˆæ–¹æ¡ˆï¼ˆæœ€ä½³ï¼‰

**å»ºè­°**ï¼š
1. **VS Code Extension** è² è²¬ï¼š
   - UI å‘ˆç¾ï¼ˆç‹€æ…‹åˆ—ã€Dashboardï¼‰
   - è¨­å®šç®¡ç†
   - æœ¬åœ°è³‡æ–™å„²å­˜

2. **MCP Server** è² è²¬ï¼š
   - æä¾›å·¥å…·çµ¦ Agent æŸ¥è©¢ç”¨é‡
   - è®“ Agent å¯ä»¥è‡ªæˆ‘ç›£æ§

---

## ç›¸é—œè³‡æº

### å®˜æ–¹æ–‡ä»¶
- MCP è¦ç¯„ï¼šhttps://modelcontextprotocol.io
- Antigravity MCP æ–‡ä»¶ï¼šhttps://antigravity.google/docs/mcp

### SDK å’Œå·¥å…·
- `@anthropic/mcp-sdk`ï¼ˆåƒè€ƒå¯¦ä½œï¼‰
- MCP Inspectorï¼ˆé™¤éŒ¯å·¥å…·ï¼‰

---

## ä¸‹ä¸€æ­¥è¡Œå‹•

1. âœ… ç ”ç©¶ MCP å”è­°è¦ç¯„
2. â¬œ è¨­è¨ˆ `usage-monitor` MCP Server
3. â¬œ å¯¦ä½œ VS Code Extension + MCP Server æ··åˆæ¶æ§‹
4. â¬œ åœ¨ Antigravity ä¸­æ¸¬è©¦æ•´åˆ
