# Antigravity Plus - åŠŸèƒ½è¦æ ¼æ›¸

## å°ˆæ¡ˆæ¦‚è¿°

**Antigravity Plus** æ˜¯ä¸€å€‹ç‚º Google Antigravity IDE è¨­è¨ˆçš„æ“´å±•æ’ä»¶ï¼Œçµåˆè‡ªå‹•æ ¸å‡† AI Agent è«‹æ±‚å’Œç”¨é‡ç›£æ§åŠŸèƒ½ï¼Œå¹«åŠ©é–‹ç™¼è€…æ›´é«˜æ•ˆåœ°ä½¿ç”¨ AI è¼”åŠ©é–‹ç™¼ã€‚

---

## æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„

### æ¨¡çµ„ 1ï¼šè‡ªå‹•æ ¸å‡† (Auto Approve)

#### åŠŸèƒ½æè¿°
è‡ªå‹•æ¥å— AI Agent çš„æ“ä½œè«‹æ±‚ï¼Œæ¸›å°‘æ‰‹å‹•ç¢ºèªçš„æ¬¡æ•¸ï¼Œæå‡é–‹ç™¼æ•ˆç‡ã€‚

#### å­åŠŸèƒ½

| ID | åŠŸèƒ½ | èªªæ˜ | å„ªå…ˆç´š |
|----|------|------|--------|
| AA-01 | æª”æ¡ˆç·¨è¼¯è‡ªå‹•æ ¸å‡† | è‡ªå‹•æ¥å— Agent æå‡ºçš„æª”æ¡ˆä¿®æ”¹ | P0 |
| AA-02 | çµ‚ç«¯æŒ‡ä»¤è‡ªå‹•åŸ·è¡Œ | è‡ªå‹•å…è¨±åŸ·è¡Œ shell æŒ‡ä»¤ | P0 |
| AA-03 | å®‰å…¨é»‘åå–® | é˜»æ“‹å±éšªæŒ‡ä»¤åŸ·è¡Œ | P0 |
| AA-04 | å®‰å…¨ç™½åå–® | å®šç¾©æ°¸é å…è¨±çš„æŒ‡ä»¤ | P1 |
| AA-05 | è¦å‰‡æ¨¡å¼åŒ¹é… | æ”¯æ´æ­£å‰‡è¡¨é”å¼è¦å‰‡ | P1 |
| AA-06 | å°ˆæ¡ˆå±¤ç´šè¨­å®š | ä¸åŒå°ˆæ¡ˆå¯æœ‰ä¸åŒè¦å‰‡ | P2 |
| AA-07 | Agent æ¢å¾© | åµæ¸¬ä¸¦æ¢å¾©å¡ä½çš„ Agent | P2 |
| AA-08 | æ“ä½œæ—¥èªŒ | è¨˜éŒ„æ‰€æœ‰è‡ªå‹•æ ¸å‡†çš„æ“ä½œ | P1 |

#### é è¨­é»‘åå–®
```
rm -rf /
rm -rf ~
rm -rf /*
format c:
format d:
del /f /s /q c:\*
dd if=/dev/zero
mkfs.*
:(){:|:&};:
chmod -R 777 /
shutdown
reboot
```

---

### æ¨¡çµ„ 2ï¼šç”¨é‡ç›£æ§ (Usage Monitor)

#### åŠŸèƒ½æè¿°
è¿½è¹¤å’Œè¦–è¦ºåŒ– AI æ¨¡å‹çš„ Token ä½¿ç”¨é‡ï¼Œå¹«åŠ©é–‹ç™¼è€…äº†è§£ä½¿ç”¨æˆæœ¬å’Œæ¨¡å¼ã€‚

#### å­åŠŸèƒ½

| ID | åŠŸèƒ½ | èªªæ˜ | å„ªå…ˆç´š |
|----|------|------|--------|
| UM-01 | Token è¨ˆæ•¸ | è¿½è¹¤è¼¸å…¥/è¼¸å‡º Token æ•¸é‡ | P0 |
| UM-02 | æˆæœ¬ä¼°ç®— | æ ¹æ“šæ¨¡å‹å®šåƒ¹è¨ˆç®—æˆæœ¬ | P0 |
| UM-03 | ç‹€æ…‹åˆ—é¡¯ç¤º | åœ¨ IDE ç‹€æ…‹åˆ—å³æ™‚é¡¯ç¤º | P0 |
| UM-04 | Session ç®¡ç† | è¿½è¹¤å–®æ¬¡æœƒè©±ç”¨é‡ | P1 |
| UM-05 | æ­·å²è¨˜éŒ„ | ä¿å­˜æ¯æ—¥/æ¯é€±ç”¨é‡æ­·å² | P1 |
| UM-06 | å¤šæ¨¡å‹æ”¯æ´ | æ”¯æ´ Gemini/Claude/GPT | P1 |
| UM-07 | é…é¡è¿½è¹¤ | è¿½è¹¤ API é…é¡ä½¿ç”¨æƒ…æ³ | P2 |
| UM-08 | é ç®—è­¦å ± | è¨­å®šç”¨é‡/æˆæœ¬è­¦å ±é–¾å€¼ | P2 |

---

### æ¨¡çµ„ 3ï¼šDashboard UI

#### åŠŸèƒ½æè¿°
æä¾›è¦–è¦ºåŒ–çš„å„€è¡¨æ¿ä»‹é¢ï¼Œå±•ç¤ºç”¨é‡çµ±è¨ˆå’Œæ“ä½œè¨˜éŒ„ã€‚

#### å­åŠŸèƒ½

| ID | åŠŸèƒ½ | èªªæ˜ | å„ªå…ˆç´š |
|----|------|------|--------|
| UI-01 | Webview é¢æ¿ | ä¸»è¦ Dashboard ä»‹é¢ | P0 |
| UI-02 | ä»Šæ—¥æ‘˜è¦ | ç•¶æ—¥ç”¨é‡/æˆæœ¬æ‘˜è¦ | P0 |
| UI-03 | Token åœ–è¡¨ | å³æ™‚ Token æ¶ˆè€—è¶¨å‹¢åœ– | P1 |
| UI-04 | æ¨¡å‹åˆ†ä½ˆ | å„æ¨¡å‹ä½¿ç”¨é‡åœ“é¤…åœ– | P1 |
| UI-05 | æ­·å²è¶¨å‹¢ | 7å¤©/30å¤©è¶¨å‹¢æŠ˜ç·šåœ– | P2 |
| UI-06 | é˜»æ“‹è¨˜éŒ„ | è¢«å®‰å…¨æ©Ÿåˆ¶é˜»æ“‹çš„æ“ä½œ | P1 |
| UI-07 | æ•ˆç‡çµ±è¨ˆ | ç¯€çœçš„é»æ“Šæ¬¡æ•¸/æ™‚é–“ | P2 |
| UI-08 | åŒ¯å‡ºåŠŸèƒ½ | CSV/JSON æ ¼å¼åŒ¯å‡º | P3 |

---

## ä½¿ç”¨è€…è¨­å®š

### è‡ªå‹•æ ¸å‡†è¨­å®š
```json
{
  "antigravity-plus.autoApprove.enabled": true,
  "antigravity-plus.autoApprove.mode": "auto",
  "antigravity-plus.autoApprove.fileOperations": true,
  "antigravity-plus.autoApprove.terminalCommands": true,
  "antigravity-plus.autoApprove.denyList": [],
  "antigravity-plus.autoApprove.allowList": [],
  "antigravity-plus.autoApprove.excludeFilePatterns": []
}
```

### ç”¨é‡ç›£æ§è¨­å®š
```json
{
  "antigravity-plus.usageMonitor.enabled": true,
  "antigravity-plus.usageMonitor.showInStatusBar": true,
  "antigravity-plus.usageMonitor.defaultModel": "gemini-3-pro",
  "antigravity-plus.usageMonitor.budgetAlert.enabled": false,
  "antigravity-plus.usageMonitor.budgetAlert.threshold": 10.00
}
```

### UI è¨­å®š
```json
{
  "antigravity-plus.dashboard.autoOpen": false,
  "antigravity-plus.dashboard.refreshInterval": 5000,
  "antigravity-plus.notifications.showBlocked": true,
  "antigravity-plus.notifications.showWarnings": true
}
```

---

## å‘½ä»¤ (Commands)

| å‘½ä»¤ ID | æ¨™é¡Œ | èªªæ˜ |
|---------|------|------|
| `antigravity-plus.openDashboard` | Open Dashboard | é–‹å•Ÿç”¨é‡ç›£æ§å„€è¡¨æ¿ |
| `antigravity-plus.toggleAutoApprove` | Toggle Auto Approve | åˆ‡æ›è‡ªå‹•æ ¸å‡†é–‹é—œ |
| `antigravity-plus.resetSession` | Reset Session | é‡ç½®ç•¶å‰ Session è¨ˆæ•¸ |
| `antigravity-plus.showLogs` | Show Operation Logs | é¡¯ç¤ºæ“ä½œæ—¥èªŒ |
| `antigravity-plus.configureRules` | Configure Rules | é–‹å•Ÿè¦å‰‡é…ç½®ä»‹é¢ |
| `antigravity-plus.exportData` | Export Usage Data | åŒ¯å‡ºç”¨é‡è³‡æ–™ |

---

## ç‹€æ…‹åˆ—è¨­è¨ˆ

### æ ¼å¼
```
[ğŸ¤– Auto: ON] [ğŸ“Š 12.5K tokens | $0.15 | Gemini 3 Pro]
```

### å…ƒç´ èªªæ˜
| å…ƒç´  | èªªæ˜ | äº’å‹• |
|------|------|------|
| ğŸ¤– Auto: ON/OFF | è‡ªå‹•æ ¸å‡†ç‹€æ…‹ | é»æ“Šåˆ‡æ›é–‹é—œ |
| ğŸ“Š 12.5K tokens | ç•¶å‰ Session Token æ•¸ | é»æ“Šé–‹å•Ÿ Dashboard |
| $0.15 | ä¼°ç®—æˆæœ¬ | é»æ“Šé¡¯ç¤ºè©³ç´°æˆæœ¬ |
| Gemini 3 Pro | ç•¶å‰æ¨¡å‹ | é»æ“Šåˆ‡æ›æ¨¡å‹ |

### é¡è‰²æŒ‡ç¤º
- ğŸŸ¢ ç¶ è‰²ï¼šæ­£å¸¸ä½¿ç”¨
- ğŸŸ¡ é»ƒè‰²ï¼šæ¥è¿‘é…é¡é™åˆ¶
- ğŸ”´ ç´…è‰²ï¼šå·²é”é™åˆ¶æˆ–æœ‰éŒ¯èª¤

---

## è³‡æ–™å„²å­˜

### ä½¿ç”¨ ExtensionContext
```typescript
// å…¨åŸŸå„²å­˜ï¼ˆè·¨å·¥ä½œå€æŒä¹…åŒ–ï¼‰
context.globalState.update('usageHistory', data);

// å·¥ä½œå€å„²å­˜ï¼ˆå·¥ä½œå€ç‰¹å®šï¼‰
context.workspaceState.update('projectRules', rules);
```

### è³‡æ–™çµæ§‹

#### UsageRecord
```typescript
interface UsageRecord {
  id: string;
  timestamp: Date;
  model: string;
  inputTokens: number;
  outputTokens: number;
  estimatedCost: number;
  operation: 'chat' | 'completion' | 'agent';
}
```

#### OperationLog
```typescript
interface OperationLog {
  id: string;
  timestamp: Date;
  type: 'file_edit' | 'terminal_command' | 'blocked';
  action: 'approved' | 'blocked' | 'manual';
  details: string;
  rule?: string;
}
```

---

## é–‹ç™¼é‡Œç¨‹ç¢‘

### Phase 1 - MVP (P0 åŠŸèƒ½)
- [ ] å°ˆæ¡ˆåˆå§‹åŒ–
- [ ] è‡ªå‹•æ ¸å‡†åŸºç¤åŠŸèƒ½
- [ ] å®‰å…¨é»‘åå–®
- [ ] Token è¨ˆæ•¸
- [ ] ç‹€æ…‹åˆ—é¡¯ç¤º
- [ ] åŸºç¤ Dashboard

### Phase 2 - å®Œå–„åŠŸèƒ½ (P1 åŠŸèƒ½)
- [ ] ç™½åå–®å’Œè¦å‰‡åŒ¹é…
- [ ] Session ç®¡ç†
- [ ] å¤šæ¨¡å‹æ”¯æ´
- [ ] æ“ä½œæ—¥èªŒ
- [ ] åœ–è¡¨è¦–è¦ºåŒ–

### Phase 3 - é€²éšåŠŸèƒ½ (P2/P3 åŠŸèƒ½)
- [ ] å°ˆæ¡ˆå±¤ç´šè¨­å®š
- [ ] Agent æ¢å¾©
- [ ] é…é¡è¿½è¹¤
- [ ] é ç®—è­¦å ±
- [ ] åŒ¯å‡ºåŠŸèƒ½
